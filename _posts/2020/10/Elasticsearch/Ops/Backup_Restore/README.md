## Elasticsearc的备份和恢复
-----

常见的数据库都会提供备份的机制，以解决在数据库无法使用的情况下可以开启新的实例，然后通过备份来恢复数据减少损失。

虽然 Elasticsearch 有良好的容灾性，但由于以下原因，其依然需要备份机制:

1. 数据灾备。在整个集群无法正常工作时，可以及时从备份中恢复数据。
1. 归档数据。随着数据的积累，比如日志类的数据，集群的存储压力会越来越大，不管是内存还是磁盘都要承担数据增多带来的压力，此时我们往往会选择只保留最近一段时间的数据，比如1个月，而将1个月之前的数据删除。如果你不想删除这些数据，以备后续有查看的需求，那么你就可以将这些数据以备份的形式归档。
1. 迁移数据。当你需要将数据从一个集群迁移到另一个集群时，也可以用备份的方式来实现。

Elasticsearch 做备份有两种方式:

1. 将数据导出成文本文件，比如通过 elasticdump、esm 等工具将存储在 Elasticsearch 中的数据导出到文件中。
1. 以备份 elasticsearch data 目录中文件的形式来做快照，也就是 Elasticsearch 中 snapshot 接口实现的功能。

第一种方式相对简单，在数据量小的时候比较实用，当应对大数据量场景效率就大打折扣。我们今天就着重讲解下第二种备份的方式，即 snapshot api 的使用。

备份要解决备份到哪里、如何备份、何时备份和如何恢复的问题，那么我们接下来一个个解决。


[如何创建仓库仓库](Repositories/README.md)

[如何使用快照进行备份](Snapshot/README.md)



